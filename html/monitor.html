<!DOCTYPE html>
<html lang="zh" ng-app="restApp">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>接单</title>
		<!-- Bootstrap -->
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<link href="../css/ie10-viewport-bug-workaround.css" rel="stylesheet">
		<!-- Custom styles for this template -->
		<!-- <link href="../css/offcanvas.css" rel="stylesheet"> -->
		<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
		<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
		<script src="../js/ie-emulation-modes-warning.js"></script>
		<script src="../js/angular-1.3.0.js"></script>
		<script src="../js/app.js"></script>
		<script src="../js/monitorControllers.js"></script>
	</head>
	<body>
		<div ng-controller="MonitorCtrl">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">新订单</h3>
				</div>
				<div class="panel-body">
					<div class="list-group">
						<a ng-class="{true: 'list-group-item list-group-item-danger', false: 'list-group-item list-group-item-success'}[order.status=='cancel']" ng-repeat="order in orderList | orderBy:'insertDt'" ng-hide="order.status=='complete'">
							<span class="pull-right">
								<div class="btn-group">
									<button type="button" class="btn btn-primary" ng-hide="order.status != 'cancel' && order.status != 'complete'" ng-click="changeStatus(order._id, 'active')">激活</button>
								</div>
								<div class="btn-group">
									<button type="button" class="btn btn-primary" ng-hide="order.status=='cancel'" ng-click="changeStatus(order._id, 'cancel')">取消</button>
								</div>
								<div class="btn-group">
									<button type="button" class="btn btn-primary" ng-hide="order.status=='complete' || order.status=='cancel'" ng-click="changeStatus(order._id, 'complete')">完成</button>
								</div>
							</span>
							<!-- <span class="badge">14</span> -->
							<h4 class="list-group-item-heading"> 订单{{$index+1}} - {{order.seat}} - {{order.insertDt | date:'yyyy-MM-dd HH:mm:ss'}} </h4>
							<p class="list-group-item-text" ng-repeat="dish in order.dishList">{{dish.name}} {{dish.amount}}份 要求:{{dish.comment}}</p>
							<!-- <p class="list-group-item-text">鱼香肉丝，肉糜茄子（微辣，少盐）</p>
							<p class="list-group-item-text">大堂，一号桌</p> -->
						</a>
					</div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">完成订单</h3>
				</div>
				<div class="panel-body">
					<div class="list-group">
						<a href="#" class="list-group-item list-group-item-info" ng-repeat="order in orderList | orderBy:'insertDt'" ng-show="order.status=='complete'">
							<span class="pull-right">
								<div class="btn-group">
									<button type="button" class="btn btn-primary" ng-click="changeStatus(order._id, 'active')">激活</button>
								</div>
							</span>
							<h4 class="list-group-item-heading"> 订单{{$index+1}} - {{order.seat}} - {{order.insertDt | date:'yyyy/MM/dd'}} </h4>
							<p class="list-group-item-text" ng-repeat="dish in order.dishList">{{dish.name}} {{dish.amount}}份 要求:{{dish.comment}}</p>
							<!-- <h4 class="list-group-item-heading"> 订单一 </h4>
							<p class="list-group-item-text">鱼香肉丝，肉糜茄子（微辣，少盐）</p>
							<p class="list-group-item-text">大堂，一号桌</p> -->
						</a>
					</div>
				</div>
			</div>
		</div>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="../js/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="../js/bootstrap.min.js"></script>
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<script src="../js/ie10-viewport-bug-workaround.js"></script>
		<script src="../js/offcanvas.js"></script>
	</body>
</html>